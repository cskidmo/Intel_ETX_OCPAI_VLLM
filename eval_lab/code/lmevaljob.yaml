apiVersion: trustyai.opendatahub.io/v1alpha1
kind: LMEvalJob
metadata:
  name: evaljob
spec:
  model: local-completions
  taskList:
    taskNames:
      - mmlu
  logSamples: true
  batchSize: '1'
  # allowOnline: true
  # allowCodeExecution: true
  modelArgs:
    - name: model
      value: granite-8b-instruct-vllm-kserve
    - name: base_url
      value: https://granite-8b-instruct-vllm-kserve-guidellm-benchmark.apps.cluster-ld95z.ld95z.sandbox671.opentlc.com/v1/completions 
    - name: num_concurrent
      value:  "1"
    - name: max_retries
      value:  "3"
    - name: tokenized_requests
      value: "False"
    - name: processor
      value: ibm-granite/granite-3.3-8b-instruct
  outputs:
    pvcName: "tokenizer-pvc"
  pod: 
    container:
      resources:
          limits: 
            cpu: '1'
            memory: 8Gi
            nvidia.com/gpu: '1'
          requests:
            cpu: '1'
            memory: 8Gi
            nvidia.com/gpu: '1'
          
